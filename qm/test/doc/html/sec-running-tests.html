<HTML
><HEAD
><TITLE
>Running Tests</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="QMTest: User's Guide and Reference"
HREF="index.html"><LINK
REL="UP"
TITLE="Using QMTest"
HREF="chap-test-manual.html"><LINK
REL="PREVIOUS"
TITLE="QMTest Concepts"
HREF="sec-qmtest-concepts.html"><LINK
REL="NEXT"
TITLE="Test Database Contents"
HREF="sec-database-contents.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="qm.css"></HEAD
><BODY
CLASS="section"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>QMTest: User's Guide and Reference</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="sec-qmtest-concepts.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 3. Using <SPAN
CLASS="application"
>QMTest</SPAN
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="sec-database-contents.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="sec-running-tests"
></A
>3.2. Running Tests</H1
><P
>To run one or more tests, use the <B
CLASS="command"
><B
CLASS="command"
>qmtest</B
>
  run</B
> command.  Each invocation of the <B
CLASS="command"
><B
CLASS="command"
>qmtest</B
>
  run</B
> command is a single test run, and produces a single set
  of test results and statistics.  Specify as arguments the names of tests
  and test suites to run.  Even if you specify a test more than once,
  either directly or by incorporation in a test suite, <SPAN
CLASS="application"
>QMTest</SPAN
> runs it
  only once.</P
><P
>If you wish to run all tests in the test database, use the
  implicit test suite <TT
CLASS="literal"
>.</TT
> (a single period; see <A
HREF="sec-qmtest-concepts.html#sec-implicit-test-suites"
>Section 3.1.5.1</A
>), or omit all IDs from the
  command line.</P
><P
><SPAN
CLASS="application"
>QMTest</SPAN
> can run tests in multiple concurrent threads of
  execution or on multiple remote hosts.  See the documentation for the
  <A
HREF="sec-test-command-line.html#sec-testcmd-run"
><B
CLASS="command"
>run</B
> command</A
>
  for details.</P
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="sec-ordering-and-dependencies"
></A
>3.2.1. Ordering and Dependencies</H2
><P
>Given one or more input test names and test suite names, <SPAN
CLASS="application"
>QMTest</SPAN
>
   employs the following procedure to determine which tests and
   resources to run and the order in which they are run.</P
><P
></P
><OL
TYPE="1"
><LI
><P
><SPAN
CLASS="application"
>QMTest</SPAN
> resolves test names and test suite names.  Test suites
     are expanded into the tests they contain.  Since test suites may
     contain other test suites, this process is repeated until all test
     suites have been expanded.  The result is a set of tests that are
     to be run.</P
></LI
><LI
><P
><SPAN
CLASS="application"
>QMTest</SPAN
> computes a schedule for running the tests to be run
     such that a test's prerequisites are run before the test itself is
     run.  Prerequisites not included in the test run are ignored.
     Outside of this condition, the order in which tests are run is
     undefined.</P
><P
>If <SPAN
CLASS="application"
>QMTest</SPAN
> is invoked to run tests in parallel or
     distributed across several <A
HREF="sec-qmtest-concepts.html#def-target"
>targets</A
>, the tests are distributed
     among them as well.  <SPAN
CLASS="application"
>QMTest</SPAN
> does not guarantee that a test's
     prerequisites are run on the same target, though.  On each target,
     tests are assigned to the next available concurrent process or
     thread.</P
></LI
><LI
><P
><SPAN
CLASS="application"
>QMTest</SPAN
> determines the required resources for the tests to be run.
     If several tests require the same resource, <SPAN
CLASS="application"
>QMTest</SPAN
> attempts to
     run all of the tests on the same target.  In this case, the
     resource is set up and cleaned up only once.  In some cases,
     <SPAN
CLASS="application"
>QMTest</SPAN
> may schedule the tests on multiple targets; in that case,
     the resource is set up and cleaned up once on each target.</P
></LI
></OL
><P
>In some cases, a test, resource setup function, or resource
   cleanup function is not executed:</P
><P
></P
><UL
><LI
><P
>A test specifies for each of its prerequisite tests an
     expected outcome.  If the prerequisite is included in the test run
     and the actual outcome of the prerequisite test is different from
     the expected outcome, the test is not run.  Instead, it is given an
     <SPAN
CLASS="symbol"
>UNTESTED</SPAN
> outcome.</P
><P
>If a test's prerequisite is not included in the test run,
     that prerequisite is ignored.</P
></LI
><LI
><P
>If a setup function for one of the resources required by a
     test fails, the test is given an <SPAN
CLASS="symbol"
>UNTESTED</SPAN
> outcome.</P
></LI
><LI
><P
>The cleanup function of a resource is run after the last test
     that requires that resource, whether or not that test was run.  The
     cleanup function is run even if the setup function failed.</P
></LI
></UL
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="sec-the-context"
></A
>3.2.2. The Context</H2
><P
><SPAN
CLASS="application"
>QMTest</SPAN
> passes a context object to the
   <TT
CLASS="function"
>Run</TT
> method of a test that is run and to the
   <TT
CLASS="function"
>SetUp</TT
> method of a resource.</P
><P
>Most of the properties of the context are the same for all
   tests and resource functions run during a single test run.  These
   properties are configured as part of the test run.  For example, when
   you run tests using the <B
CLASS="command"
><B
CLASS="command"
>qmtest</B
> run</B
> command,
   you may specify individual context properties with the <A
HREF="sec-test-command-line.html#opt-test-run-context"
><TT
CLASS="option"
>--context</TT
>
   (<TT
CLASS="option"
>-c</TT
>)</A
> or <A
HREF="sec-test-command-line.html#opt-test-run-context-file"
><TT
CLASS="option"
>--load-context</TT
>
   (<TT
CLASS="option"
>-C</TT
>)</A
> options.</P
><P
>In addition, a resource setup function may add additional
   properties to a context.  These added properties do not become part
   of the common context; they are hidden from other tests and resources
   except that the properties added by a resource are visible to tests 
   that require that resource.</P
><P
>For instance, a resource <TT
CLASS="function"
>SetUp</TT
> function
   might allocate the resource and place a handle to it (for instance,
   a temporary directory name or a database session key) in the
   context as a context property.  Tests that require that resource
   have access to the temporary resource via the handle stored in the
   context.  The resource's cleanup function also uses the handle to
   deallocate the resource.  That information should be stored in the
   resource object itself since no context is made available to the
   <TT
CLASS="function"
>CleanUp</TT
>.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sec-qmtest-concepts.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sec-database-contents.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><SPAN
CLASS="application"
>QMTest</SPAN
> Concepts</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="chap-test-manual.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Test Database Contents</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>